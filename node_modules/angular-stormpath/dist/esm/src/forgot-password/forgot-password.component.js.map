{"version":3,"file":"forgot-password.component.js","sourceRoot":"","sources":["../../../../src/forgot-password/forgot-password.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AACtE,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EAAE,SAAS,EAAE,uBAAuB,EAAE,sBAAsB,EAAE,MAAM,gCAAgC,CAAC;;IAqD1G,iCAAmB,SAAoB;QAApB,cAAS,GAAT,SAAS,CAAW;QACrC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;KACnB;IAED,0CAAQ,GAAR;QACE,IAAI,CAAC,uBAAuB,GAAG;YAC7B,KAAK,EAAE,EAAE;SACV,CAAC;KACH;IAED,sCAAI,GAAJ;QAAA,iBAKC;QAJC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC,IAAI,CAAC,uBAAuB,CAAC;aAChE,SAAS,CAAC,cAAM,OAAA,KAAI,CAAC,IAAI,GAAG,IAAI,EAAhB,CAAgB,EAC/B,UAAC,KAA6B,IAAK,OAAA,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC,OAAO,EAA1B,CAA0B,CAAC,CAAC;KACpE;IAED,0CAAQ,GAAR,UAAS,IAAS;QAChB,IAAI,CAAC,IAAI,EAAE,CAAC;KACb;kCA1EH","sourcesContent":["import { Component, OnInit, TemplateRef, Input } from '@angular/core';\nimport { Injectable } from '@angular/core';\nimport { Stormpath, ForgotPasswordFormModel, StormpathErrorResponse } from '../stormpath/stormpath.service';\n\n@Component({\n  selector: 'forgot-password-form',\n  template: `<ng-template #defaultTemplate>\n  <div class=\"row\">\n    <div class=\"col-xs-12\">\n      <p *ngIf=\"sent\" class=\"alert alert-success\">\n        We have sent a password reset link to the email address of the account that you specified.\n        Please check your email for this message, then click on the link.\n      </p>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-xs-12\">\n      <form class=\"form-horizontal\" *ngIf=\"!sent\" #form=\"ngForm\" (ngSubmit)=\"onSubmit(form.value)\" autocomplete=\"off\">\n        <div class=\"form-group\">\n          <label for=\"spEmail\" class=\"col-sm-3 control-label\">Email</label>\n          <div class=\"col-sm-9\">\n            <input class=\"form-control\" name=\"email\" type=\"email\" id=\"spEmail\" [(ngModel)]=\"forgotPasswordFormModel.email\"\n                   placeholder=\"Your Email Address\" [disabled]=\"posting\" required>\n          </div>\n        </div>\n        <div class=\"form-group\">\n          <div class=\"col-sm-offset-3\">\n            <p class=\"text-danger\" *ngIf=\"error\">{{error}}</p>\n            <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"posting\">Request Password Reset</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</ng-template>\n<ng-template\n  [ngTemplateOutlet]=\"customTemplate || defaultTemplate\">\n</ng-template>`\n})\n@Injectable()\nexport class ForgotPasswordComponent implements OnInit {\n  /**\n   * A reference to a `<ng-template>` tag that if set will override this component's template. Use like so:\n   * ```\n   * <ng-template #customTemplate>\n   *   // custom HTML with login form\n   * </ng-template>\n   * ```\n   * Then pass customTemplate to the `forgot-password-form` component like so `[customTemplate]=\"customTemplate\"`\n   */\n  @Input() customTemplate: TemplateRef<any>;\n  protected forgotPasswordFormModel: ForgotPasswordFormModel;\n  protected error: string;\n  protected sent: boolean;\n\n  constructor(public stormpath: Stormpath) {\n    this.sent = false;\n  }\n\n  ngOnInit(): void {\n    this.forgotPasswordFormModel = {\n      email: ''\n    };\n  }\n\n  send(): void {\n    this.error = null;\n    this.stormpath.sendPasswordResetEmail(this.forgotPasswordFormModel)\n      .subscribe(() => this.sent = true,\n        (error: StormpathErrorResponse) => this.error = error.message);\n  }\n\n  onSubmit(form: any): void {\n    this.send();\n  }\n}\n"]}